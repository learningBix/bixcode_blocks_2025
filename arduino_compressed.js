// Do not edit this file; automatically generated by build.py.
'use strict';

let Blockly = require('openblock-blocks');

Blockly.Arduino=new Blockly.Generator("Arduino");Blockly.Arduino.addReservedWords("alignas,alignof,and,and_eq,asm,atomic_cancel,atomic_commit,atomic_noexcept,auto,bitand,bitor,bool,break,case,catch,char,char8_t,char16_t,char32_t,class,compl,concept,const,consteval,constexpr,constinit,const_cast,continue,co_await,co_return,co_yield,decltype,default,delete,do,double,dynamic_cast,else,enum,explicit,export,extern,false,float,for,friend,goto,if,inline,int,long,mutable,namespace,new,noexcept,not,not_eq,nullptr,operator,or,or_eq,private,protected,public,reflexpr,register,reinterpret_cast,requires,return,short,signed,sizeof,static,static_assert,static_cast,struct,switch,synchronized,template,this,thread_local,throw,true,try,typedef,typeid,typename,union,unsigned,using,virtual,void,volatile,wchar_t,while,xor,xor_eq,assert,int8_t,uint8_t,int16_t,uint16_t,int32_t,uint32_t,abs,labs,llabs,fabs,div,ldiv,lldiv,fmod,remainder,remquo,fma,fmax,fmin,fdim,nan,nanf,nanl,exp,exp2,expm1,log,log2,log10,log1p,ilogb,logb,sqrt,cbrt,hypot,pow,sin,cos,tan,asin,acos,atan,atan2,sinh,cosh,tanh,asinh,acosh,atanh,erf,erfc,lgamma,tgamma,ceil,floor,trunc,round,lround,llround,nearbyint,rint,lrint,llrint,frexp,ldxp,modf,scalbn,scalbln,nextafter,nexttowardcopysign,fpclassify,isfinite,isfinite,isinf,isnan,isnormal,signbitsize_t,fopen,freopen,fflush,fclose,setbuf,setvbuf,fwide,fread,fwritefgetc,fgetwa,getc,getwc,fgets,fgetws,fputc,fputwc,putc,putwc,fputs,fputws,getchar,getwchar,gets,putchar,putwchar,puts,ungetc,ungetwc,scanf,wscanf,fscanf,fwscanf,sscanf,swscanf,vscanf,vwscanf,vfscanf,vfwsanf,printf,wprintf,fprintf,fwprintf,sprintf,swprintf,snprintf,vprintf,vwprintf,vfprintf,vfwprintf,vsprintf,vwsprintf,vsnprintf,perrorftell,ftello,fseek,fseeko,fgetpos,fsetpos,rewind,clearerr,feof,ferrorremove,rename,tmpfile,tmpnam,strcpy,strncpy,strcat,strncat,strxfrm,strlen,strcmp,strncmp,strcoll,strchr,strrchr,strspn,strcspn,strpbrk,strstr,strtok,strerror,memset,memcpy,memmove,memcmp,memchr,setup,loop,define,include,HIGH,LOW,INPUT,OUTPUT,INPUT_PULLUP,interger,constants,floating,point,boolean,byte,word,double,string,String,array,pinMode,digitalWrite,digitalRead,analogReference,analogRead,analogWrite,tone,noTone,shiftOut,shitIn,pulseIn,millis,micros,delay,delayMicroseconds,min,max,constrain,map,randomSeed,random,lowByte,highByte,bitRead,bitWrite,bitSet,bitClear,bit,attachInterrupt,detachInterrupt,interrupts,noInterrupts,index");
Blockly.Arduino.ORDER_ATOMIC=0;Blockly.Arduino.ORDER_UNARY_POSTFIX=1;Blockly.Arduino.ORDER_UNARY_PREFIX=2;Blockly.Arduino.ORDER_MULTIPLICATIVE=3;Blockly.Arduino.ORDER_ADDITIVE=4;Blockly.Arduino.ORDER_SHIFT=5;Blockly.Arduino.ORDER_RELATIONAL=6;Blockly.Arduino.ORDER_EQUALITY=7;Blockly.Arduino.ORDER_BITWISE_AND=8;Blockly.Arduino.ORDER_BITWISE_XOR=9;Blockly.Arduino.ORDER_BITWISE_OR=10;Blockly.Arduino.ORDER_LOGICAL_AND=11;Blockly.Arduino.ORDER_LOGICAL_OR=12;Blockly.Arduino.ORDER_CONDITIONAL=13;
Blockly.Arduino.ORDER_ASSIGNMENT=14;Blockly.Arduino.ORDER_NONE=99;Blockly.Arduino.INDENT="  ";Blockly.Arduino.firstLoop=!0;
Blockly.Arduino.init=function(a){Blockly.Arduino.includes_=Object.create(null);Blockly.Arduino.definitions_=Object.create(null);Blockly.Arduino.customFunctions_=Object.create(null);Blockly.Arduino.customFunctionsArgName_=Object.create(null);Blockly.Arduino.setups_=Object.create(null);Blockly.Arduino.loops_=Object.create(null);Blockly.Arduino.variableDB_?Blockly.Arduino.variableDB_.reset():Blockly.Arduino.variableDB_=new Blockly.Names(Blockly.Arduino.RESERVED_WORDS_);Blockly.Arduino.variableDB_.setVariableMap(a.getVariableMap());
var b=[];a=Blockly.Variables.allVariables(a);for(var c=0;c<a.length;c++)a[c].type===Blockly.LIST_VARIABLE_TYPE?(Blockly.Arduino.includes_.simplelist="#include <SimpleList.h>",b[c]="SimpleList<String> "+Blockly.Arduino.variableDB_.getName(a[c].name,Blockly.Variables.NAME_TYPE)+";"):b[c]="float "+Blockly.Arduino.variableDB_.getName(a[c].name,Blockly.Variables.NAME_TYPE)+";";0<a.length&&(Blockly.Arduino.definitions_.variables=b.join("\n"))};
Blockly.Arduino.finish=function(a){var b=[];for(f in Blockly.Arduino.includes_)b.push(Blockly.Arduino.includes_[f]);var c=[];for(f in Blockly.Arduino.definitions_)c.push(Blockly.Arduino.definitions_[f]);var d=[];for(f in Blockly.Arduino.customFunctions_)d.push(Blockly.Arduino.customFunctions_[f]);var e=[];for(f in Blockly.Arduino.setups_)e.push(Blockly.Arduino.setups_[f]);var g=[];for(f in Blockly.Arduino.loops_)g.push(Blockly.Arduino.loops_[f]);var f="// generated by LearningBix\n";0!=b.length&&
(f+=b.join("\n")+"\n\n");0!=c.length&&(f+=c.join("\n")+"\n\n");0!=d.length&&(f+=d.join("\n")+"\n");f+="void setup() {\n";0!=e.length&&(f+=Blockly.Arduino.INDENT+e.join("\n"+Blockly.Arduino.INDENT)+"\n");f=f+a+"}\n";Blockly.Arduino.firstLoop&&(f+="\nvoid loop() {\n"+Blockly.Arduino.INDENT+"repeat();\n}\n");0!=g.length?(f=f+"\nvoid repeat() {\n"+(Blockly.Arduino.INDENT+g.join("\n"+Blockly.Arduino.INDENT)+"\n"),f+="}\n"):f=f.replace(/ *repeat\(\);\n/g,"");delete Blockly.Arduino.definitions_;delete Blockly.Arduino.includes_;
delete Blockly.Arduino.customFunctions_;delete Blockly.Arduino.customFunctionsArgName_;delete Blockly.Arduino.setups_;delete Blockly.Arduino.loop_;Blockly.Arduino.variableDB_.reset();Blockly.Arduino.firstLoop=!0;return f};
Blockly.Arduino.scrub_=function(a,b){if(null===b||!Blockly.Arduino.check_(a))return"";var c="";if(!a.outputConnection||!a.outputConnection.targetConnection){var d=a.getCommentText();d&&(c+=Blockly.Arduino.prefixLines(d,"// ")+"\n");for(var e=0;e<a.inputList.length;e++)a.inputList[e].type==Blockly.INPUT_VALUE&&(d=a.inputList[e].connection.targetBlock())&&(d=Blockly.Arduino.allNestedComments(d))&&(c+=Blockly.Arduino.prefixLines(d,"// "))}e=b;null!==a.getSurroundParent()||""===b||"control_forever"===
a.type&&"event_whenarduinobegin"===a.getRootBlock().type||("procedures_definition"!==a.type&&"procedures_prototype"!==a.type&&(e=Blockly.Arduino.INDENT+e,""!==c&&(c=Blockly.Arduino.INDENT+c)),e=e.replace(/\n/g,"\n"+Blockly.Arduino.INDENT),e=e.slice(0,e.length-2));a=a.nextConnection&&a.nextConnection.targetBlock();a=Blockly.Arduino.blockToCode(a);return c+e+a};Blockly.Arduino.scrubNakedValue=function(a){return a+";\n"};
Blockly.Arduino.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/\$/g,"\\$").replace(/"/g,'\\"').replace(/'/g,"\\'");return'"'+a+'"'};Blockly.Arduino.check_=function(a){return null===a.getSurroundParent()&&(null!==a.previousConnection&&null!==a.getTopStackBlock().previousConnection||2===a.getOutputShape()||1===a.getOutputShape())?!1:!0};Blockly.Arduino.arduino={};Blockly.Arduino.arduino_pin_setPinMode=function(a){var b=a.getFieldValue("PIN")||"0";a=a.getFieldValue("MODE")||"INPUT";return"pinMode("+b+", "+a+");\n"};Blockly.Arduino.arduino_hiveOutput_setOutputPort=function(a){var b=a.getFieldValue("PORT")||"0";Blockly.Arduino.setups_["setups_setOutputPort"+b]="pinMode("+b+",OUTPUT;\n";a=a.getFieldValue("LEVEL")||"0";return"digitalWrite("+b+", "+a+");\n"};
Blockly.Arduino.arduino_hiveOutput_setPWMOutputPort=function(a){var b=a.getFieldValue("PORT")||"0";Blockly.Arduino.setups_["setups_setOutputPort"+b]="pinMode("+b+",OUTPUT;\n";a=Blockly.Arduino.valueToCode(a,"POWER",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;return"analogWrite("+b+", "+a+");\n"};
Blockly.Arduino.arduino_Input_sensorRead=function(a){a=Blockly.Arduino.valueToCode(a,"PORT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;Blockly.Arduino.setups_["setups_setOutputPort"+a]="pinMode("+a+",OUTPUT);\n";return""};Blockly.Arduino.arduino_Input_digitalReadValue=function(a){var b=a.getFieldValue("PORT")||"0";a=Blockly.Arduino.valueToCode(a,"TYPE",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"digital";a=a.replace(/"/g,"");return[a+"Read("+b+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_ServoControl_setServoMotor=function(a){var b=Blockly.Arduino.valueToCode(a,"PORT",Blockly.Arduino.ORDER_ATOMIC)||0;a=Blockly.Arduino.valueToCode(a,"ANGLE",Blockly.Arduino.ORDER_ATOMIC)||0;a=a.replace(/"/g,"");Blockly.Arduino.includes_.include_esp32servo="#include <ESP32Servo.h>";Blockly.Arduino.definitions_["define_servo"+b]="Servo myservo_"+b+";";Blockly.Arduino.definitions_.define_esp32pwm_timers="ESP32PWM::allocateTimer(0);\nESP32PWM::allocateTimer(1);\nESP32PWM::allocateTimer(2);\nESP32PWM::allocateTimer(3);";
Blockly.Arduino.setups_["setup_servo"+b]="myservo_"+b+".setPeriodHertz(50);  // standard 50 hz servo\nmyservo_"+b+".attach("+b+", 1000, 2000);";return"myservo_"+b+".write("+a+");\n"};
Blockly.Arduino.arduino_display_display_init=function(a){Blockly.Arduino.includes_.include_spi="#include <SPI.h>";Blockly.Arduino.includes_.include_wire="#include <Wire.h>";Blockly.Arduino.includes_.include_gfx="#include <Adafruit_GFX.h>";Blockly.Arduino.includes_.include_ssd1306="#include <Adafruit_SSD1306.h>";Blockly.Arduino.definitions_.define_screen_width="#define SCREEN_WIDTH 128 // OLED display width, in pixels";Blockly.Arduino.definitions_.define_screen_height="#define SCREEN_HEIGHT 64";Blockly.Arduino.definitions_.define_display=
"Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, 0x3C, -1);";Blockly.Arduino.setups_.setup_display='if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {  // Address 0x3C for 128x64\n  delay(100);\n  Serial.println(F("SSD1306 allocation failed"));\n  for (;;);\n}';return""};
Blockly.Arduino.arduino_display_display=function(a){Blockly.Arduino.includes_.include_spi="#include <SPI.h>";Blockly.Arduino.includes_.include_wire="#include <Wire.h>";Blockly.Arduino.includes_.include_gfx="#include <Adafruit_GFX.h>";Blockly.Arduino.includes_.include_ssd1306="#include <Adafruit_SSD1306.h>";Blockly.Arduino.definitions_.define_screen_width="#define SCREEN_WIDTH 128 // OLED display width, in pixels";Blockly.Arduino.definitions_.define_screen_height="#define SCREEN_HEIGHT 64";Blockly.Arduino.definitions_.define_display=
"Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, 0x3C, -1);";Blockly.Arduino.setups_.setup_display='if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {  // Address 0x3C for 128x64\n  delay(100);\n  Serial.println(F("SSD1306 allocation failed"));\n  for (;;);\n}\n';var b=Blockly.Arduino.valueToCode(a,"SIZE",Blockly.Arduino.ORDER_ATOMIC)||1;a=Blockly.Arduino.valueToCode(a,"DISPLAY",Blockly.Arduino.ORDER_ATOMIC)||'"Hello, World!"';return"display.setTextSize("+b+");\ndisplay.setTextColor(SSD1306_WHITE);\ndisplay.setCursor(0, 0);\ndisplay.print("+
a+");\ndisplay.display();\n"};
Blockly.Arduino.arduino_display_displayLine=function(a){Blockly.Arduino.includes_.include_spi="#include <SPI.h>";Blockly.Arduino.includes_.include_wire="#include <Wire.h>";Blockly.Arduino.includes_.include_gfx="#include <Adafruit_GFX.h>";Blockly.Arduino.includes_.include_ssd1306="#include <Adafruit_SSD1306.h>";Blockly.Arduino.definitions_.define_screen_width="#define SCREEN_WIDTH 128 // OLED display width, in pixels";Blockly.Arduino.definitions_.define_screen_height="#define SCREEN_HEIGHT 64";Blockly.Arduino.definitions_.define_display=
"Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, 0x3C, -1);";Blockly.Arduino.setups_.setup_display='if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {  // Address 0x3C for 128x64\n  delay(100);\n  Serial.println(F("SSD1306 allocation failed"));\n  for (;;);\n}\n';var b=Blockly.Arduino.valueToCode(a,"X1",Blockly.Arduino.ORDER_ATOMIC)||"0",c=Blockly.Arduino.valueToCode(a,"Y1",Blockly.Arduino.ORDER_ATOMIC)||"0",d=Blockly.Arduino.valueToCode(a,"X2",Blockly.Arduino.ORDER_ATOMIC)||"0";a=Blockly.Arduino.valueToCode(a,
"Y2",Blockly.Arduino.ORDER_ATOMIC)||"0";return"display.drawLine("+b+", "+c+", "+d+", "+a+", SSD1306_WHITE);\ndisplay.display();\n"};
Blockly.Arduino.arduino_display_displayRect=function(a){Blockly.Arduino.includes_.include_spi="#include <SPI.h>";Blockly.Arduino.includes_.include_wire="#include <Wire.h>";Blockly.Arduino.includes_.include_gfx="#include <Adafruit_GFX.h>";Blockly.Arduino.includes_.include_ssd1306="#include <Adafruit_SSD1306.h>";Blockly.Arduino.definitions_.define_screen_width="#define SCREEN_WIDTH 128 // OLED display width, in pixels";Blockly.Arduino.definitions_.define_screen_height="#define SCREEN_HEIGHT 64";Blockly.Arduino.definitions_.define_display=
"Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, 0x3C, -1);";Blockly.Arduino.setups_.setup_display='if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {  // Address 0x3C for 128x64\n  delay(100);\n  Serial.println(F("SSD1306 allocation failed"));\n  for (;;);\n}\n';var b=Blockly.Arduino.valueToCode(a,"X1",Blockly.Arduino.ORDER_ATOMIC)||"0",c=Blockly.Arduino.valueToCode(a,"Y1",Blockly.Arduino.ORDER_ATOMIC)||"0",d=Blockly.Arduino.valueToCode(a,"WIDTH",Blockly.Arduino.ORDER_ATOMIC)||"0";a=Blockly.Arduino.valueToCode(a,
"HEIGHT",Blockly.Arduino.ORDER_ATOMIC)||"0";return"display.drawRect("+b+", "+c+", "+d+", "+a+", SSD1306_WHITE);\ndisplay.display();\n"};
Blockly.Arduino.arduino_display_displayCircle=function(a){Blockly.Arduino.includes_.include_spi="#include <SPI.h>";Blockly.Arduino.includes_.include_wire="#include <Wire.h>";Blockly.Arduino.includes_.include_gfx="#include <Adafruit_GFX.h>";Blockly.Arduino.includes_.include_ssd1306="#include <Adafruit_SSD1306.h>";Blockly.Arduino.definitions_.define_screen_width="#define SCREEN_WIDTH 128 // OLED display width, in pixels";Blockly.Arduino.definitions_.define_screen_height="#define SCREEN_HEIGHT 64";Blockly.Arduino.definitions_.define_display=
"Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, 0x3C, -1);";Blockly.Arduino.setups_.setup_display='if (!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {  // Address 0x3C for 128x64\n  delay(100);\n  Serial.println(F("SSD1306 allocation failed"));\n  for (;;);\n}\n';var b=Blockly.Arduino.valueToCode(a,"X1",Blockly.Arduino.ORDER_ATOMIC)||"0",c=Blockly.Arduino.valueToCode(a,"Y1",Blockly.Arduino.ORDER_ATOMIC)||"0";a=Blockly.Arduino.valueToCode(a,"RADIUS",Blockly.Arduino.ORDER_ATOMIC)||"0";return"display.drawCircle("+
b+", "+c+", "+a+", SSD1306_WHITE);\ndisplay.display();\n"};Blockly.Arduino.arduino_display_clearDisplay=function(a){return"display.clearDisplay();\ndisplay.display();\n"};
Blockly.Arduino.arduino_RobotControl_roboOpreation=function(a){var b=Blockly.Arduino.valueToCode(a,"STATE",Blockly.Arduino.ORDER_ATOMIC)||"Forward";b=b.replace(/"/g,"");a=Blockly.Arduino.valueToCode(a,"SPEED",Blockly.Arduino.ORDER_ATOMIC)||0;Blockly.Arduino.definitions_.define_motor_pins="#define MOTOR_1_1 1\n#define MOTOR_1_2 2\n#define MOTOR_2_1 5\n#define MOTOR_2_2 6\n";Blockly.Arduino.setups_.setup_motor_pins="pinMode(MOTOR_1_1, OUTPUT);\npinMode(MOTOR_1_2, OUTPUT);\npinMode(MOTOR_2_1, OUTPUT);\npinMode(MOTOR_2_2, OUTPUT);\nmotor_stop();\n";
Blockly.Arduino.definitions_.define_motor_functions="void motor_forward(int MOTOR_SPEED) {\n  analogWrite(MOTOR_2_1, MOTOR_SPEED);\n  analogWrite(MOTOR_2_2, LOW);\n  analogWrite(MOTOR_1_1, LOW);\n  analogWrite(MOTOR_1_2, MOTOR_SPEED);\n}\n\nvoid motor_backward(int MOTOR_SPEED) {\n  digitalWrite(MOTOR_2_1, LOW);\n  digitalWrite(MOTOR_2_2, MOTOR_SPEED);\n  digitalWrite(MOTOR_1_1, MOTOR_SPEED);\n  digitalWrite(MOTOR_1_2, LOW);\n}\n\nvoid motor_left(int MOTOR_SPEED) {\n  digitalWrite(MOTOR_2_1, MOTOR_SPEED);\n  digitalWrite(MOTOR_2_2, LOW);\n  digitalWrite(MOTOR_1_1, MOTOR_SPEED);\n  digitalWrite(MOTOR_1_2, LOW);\n}\n\nvoid motor_right(int MOTOR_SPEED) {\n  digitalWrite(MOTOR_2_1, LOW);\n  digitalWrite(MOTOR_2_2, MOTOR_SPEED);\n  digitalWrite(MOTOR_1_1, LOW);\n  digitalWrite(MOTOR_1_2, MOTOR_SPEED);\n}\n\nvoid motor_stop() {\n  digitalWrite(MOTOR_2_1, LOW);\n  digitalWrite(MOTOR_2_2, LOW);\n  digitalWrite(MOTOR_1_1, LOW);\n  digitalWrite(MOTOR_1_2, LOW);\n}\n";
return b+"("+a+");\n"};
Blockly.Arduino.arduino_RobotControl_roboOpreationwithtime=function(a){var b=Blockly.Arduino.valueToCode(a,"STATE",Blockly.Arduino.ORDER_ATOMIC)||"Forward";b=b.replace(/"/g,"");var c=Blockly.Arduino.valueToCode(a,"SPEED",Blockly.Arduino.ORDER_ATOMIC)||0;a=Blockly.Arduino.valueToCode(a,"TIME",Blockly.Arduino.ORDER_ATOMIC)||1;Blockly.Arduino.definitions_.define_motor_pins="#define MOTOR_1_1 1\n#define MOTOR_1_2 2\n#define MOTOR_2_1 5\n#define MOTOR_2_2 6\n";Blockly.Arduino.setups_.setup_motor_pins="pinMode(MOTOR_1_1, OUTPUT);\npinMode(MOTOR_1_2, OUTPUT);\npinMode(MOTOR_2_1, OUTPUT);\npinMode(MOTOR_2_2, OUTPUT);\nmotor_stop();\n";
Blockly.Arduino.definitions_.define_motor_functions="void motor_forward(int MOTOR_SPEED) {\n  analogWrite(MOTOR_2_1, MOTOR_SPEED);\n  analogWrite(MOTOR_2_2, LOW);\n  analogWrite(MOTOR_1_1, LOW);\n  analogWrite(MOTOR_1_2, MOTOR_SPEED);\n}\n\nvoid motor_backward(int MOTOR_SPEED) {\n  digitalWrite(MOTOR_2_1, LOW);\n  digitalWrite(MOTOR_2_2, MOTOR_SPEED);\n  digitalWrite(MOTOR_1_1, MOTOR_SPEED);\n  digitalWrite(MOTOR_1_2, LOW);\n}\n\nvoid motor_left(int MOTOR_SPEED) {\n  digitalWrite(MOTOR_2_1, MOTOR_SPEED);\n  digitalWrite(MOTOR_2_2, LOW);\n  digitalWrite(MOTOR_1_1, MOTOR_SPEED);\n  digitalWrite(MOTOR_1_2, LOW);\n}\n\nvoid motor_right() {\n  digitalWrite(MOTOR_2_1, LOW);\n  digitalWrite(MOTOR_2_2, MOTOR_SPEED);\n  digitalWrite(MOTOR_1_1, LOW);\n  digitalWrite(MOTOR_1_2, MOTOR_SPEED);\n}\n\nvoid motor_stop() {\n  digitalWrite(MOTOR_2_1, LOW);\n  digitalWrite(MOTOR_2_2, LOW);\n  digitalWrite(MOTOR_1_1, LOW);\n  digitalWrite(MOTOR_1_2, LOW);\n}\n";
return b+"("+c+");\ndelay("+a+");\nmotor_stop();\n"};Blockly.Arduino.arduino_RobotControl_stopRobot=function(a){return"motor_stop();\n"};Blockly.Arduino.arduino_pin_modularBegin=function(a){Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";return""};
Blockly.Arduino.arduino_pin_setBoardLed=function(a){var b=a.getFieldValue("PIN")||"0";a=a.getFieldValue("LEVEL")||"setOn";Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";return"mybot.boardLed("+b+","+a+");\n"};
Blockly.Arduino.arduino_pin_proximityread=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_proximityread"+a]="mybot.proximityBegin(2);\n";return["mybot.proximityRead("+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_soilread=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_soilread"+a]="mybot.moistBegin(2);\n";return["mybot.moistRead("+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_lightread=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_lightread"+a]="mybot.lightBegin(2);\n";return["mybot.lightRead("+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_soundread=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_soundread"+a]="mybot.soundBegin(2);\n";return["mybot.soundRead("+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_dhtbegin=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";return"mybot.dhtBegin("+a+");\n"};Blockly.Arduino.arduino_pin_humread=function(a){a.getFieldValue("PIN");Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";return["mybot.humidityRead()",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_temread=function(a){a.getFieldValue("PIN");Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";return["mybot.temRead()",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_motionbegin=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";return"mybot.motionBegin("+a+");\n"};
Blockly.Arduino.arduino_pin_motionread=function(a){var b=a.getFieldValue("TYPE")||"acc";a=a.getFieldValue("DIM")||"x";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";return["mybot."+b+a+"Read()",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_sonarsensor=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_sonarsensor"+a]="mybot.sonarBegin("+a+");\n";return["mybot.sonarRead("+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_pushbutton=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_pushbutton"+a]="mybot.switchBegin("+a+");\n";return["mybot.switchRead("+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_relay=function(a){var b=a.getFieldValue("PIN")||"1";a=a.getFieldValue("VAL")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_relay"+b+"_"+a]="mybot.relayBegin("+b+");\n";return"mybot.relaySet("+b+","+a+");\n"};
Blockly.Arduino.arduino_pin_pumpdriver=function(a){var b=a.getFieldValue("PIN")||"1";a=a.getFieldValue("VAL")||"1";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_pumpdriver"+b+"_"+a]="mybot.pumpBegin("+b+");\n";return"mybot.pumpSet("+b+","+a+");\n"};
Blockly.Arduino.arduino_pin_buzzer=function(a){var b=a.getFieldValue("PIN")||"1",c=a.getFieldValue("VAL")||"0";a=Blockly.Arduino.valueToCode(a,"VAL2",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_buzzer"+b+"_"+c]="mybot.buzzerBegin("+b+");\n";return"mybot.buzzerSet("+b+","+c+","+a+");\n"};
Blockly.Arduino.arduino_pin_RGBLed=function(a){var b=a.getFieldValue("PIN")||"1";a=a.getFieldValue("VAL")||"CA";Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";return"mybot.rgbBegin("+b+","+a+");\n"};
Blockly.Arduino.arduino_pin_setRGBLed=function(a){var b=a.getFieldValue("PIN")||"1";a=a.getFieldValue("MODE")||"CC";Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";return"mybot.rgbBegin("+b+","+a+");\n"};
Blockly.Arduino.arduino_pin_setBuzzer=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";return"mybot.buzzerBegin("+a+");\n"};Blockly.Arduino.arduino_pin_setBOTBegin=function(a){a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";return"mybot.steerBotbegin("+a+");\n"};
Blockly.Arduino.arduino_pin_setRGBLedOUT=function(a){var b=a.getFieldValue("PIN")||"0",c=a.getFieldValue("MODE")||"RED",d=Blockly.Arduino.valueToCode(a,"LEVEL",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"LOW";a=Blockly.Arduino.valueToCode(a,"INT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;return"mybot.rgbSet"+c+"("+b+", "+d+", "+a+");\n"};
Blockly.Arduino.arduino_pin_RGBLedOUT=function(a){var b=a.getFieldValue("PIN")||"0",c=a.getFieldValue("VAL")||"RED";a=a.getFieldValue("VAL2")||"LOW";return"mybot.rgbSet"+c+"("+b+", "+a+");\n"};Blockly.Arduino.arduino_pin_setsingleBOT=function(a){Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";var b=a.getFieldValue("PIN")||"0";return"mybot.motor"+(a.getFieldValue("VAL")||"One")+"Begin("+b+");\n"};
Blockly.Arduino.arduino_pin_setsingleBOTMotion=function(a){var b=a.getFieldValue("PIN")||"0",c=a.getFieldValue("VAL")||"One",d=a.getFieldValue("MDIR")||"Two";a=Blockly.Arduino.valueToCode(a,"SP",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;return"mybot.motor"+c+"Rotate"+d+"("+b+","+a+");\n"};
Blockly.Arduino.arduino_pin_servodriverintellecto=function(a){var b=a.getFieldValue("ONE")||"ONE",c=a.getFieldValue("PIN")||"1";a=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;Blockly.Arduino.includes_.include_modular="#include <intellecto.h>";Blockly.Arduino.definitions_.definitions_modular="Intellecto mybot;";Blockly.Arduino.setups_["setups_servo"+c+"_"+b]="mybot.servo"+b+"Begin("+c+");\n";return"mybot.servo"+b+"Move("+a+");\n"};
Blockly.Arduino.arduino_pin_setBuzzerOUT=function(a){var b=a.getFieldValue("PIN")||"0",c=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||1;a=Blockly.Arduino.valueToCode(a,"LEVEL",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"LOW";return"mybot.buzzerSet("+b+", "+a+","+c+");\n"};
Blockly.Arduino.arduino_pin_setBOTMotion=function(a){Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";var b=a.getFieldValue("PIN")||"3",c=a.getFieldValue("MODE")||"Forward";a=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"1";Blockly.Arduino.setups_["setups_mybot"+b]="mybot.steerBotBegin("+b+");";return"mybot.steerBot"+c+"("+b+", "+a+");\n"};
Blockly.Arduino.arduino_pin_setBOTHalt=function(a){return"mybot.haltBot("+(a.getFieldValue("PIN")||"3")+");\n"};
Blockly.Arduino.arduino_pin_servoDriver=function(a){var b=a.getFieldValue("ONE")||"ONE",c=a.getFieldValue("PIN")||"1";a=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";Blockly.Arduino.setups_["setups_servo"+c+"_"+b]="mybot.servo"+b+"Begin("+c+");\n";return"mybot.servo"+b+"Move("+a+");\n"};
Blockly.Arduino.arduino_pin_setDigitalOutput=function(a){var b=a.getFieldValue("PIN")||"0";a=Blockly.Arduino.valueToCode(a,"LEVEL",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"LOW";return"digitalWrite("+b+", "+a+");\n"};Blockly.Arduino.arduino_pin_menu_level=function(a){return[a.getFieldValue("level")||"LOW",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_setPwmOutput=function(a){var b=a.getFieldValue("PIN")||"0";a=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;return"analogWrite("+b+", "+a+");\n"};Blockly.Arduino.arduino_pin_readDigitalPin=function(a){return["digitalRead("+(a.getFieldValue("PIN")||"0")+")",Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.arduino_pin_readAnalogPin=function(a){return["analogRead("+(a.getFieldValue("PIN")||"A1")+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_sonarRead=function(a){Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";a=a.getFieldValue("PIN")||"1";Blockly.Arduino.setups_["setups_sonar"+a]="mybot.sonarBegin("+a+");\n";return["mybot.sonarRead("+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_proximityBegin=function(a){var b=a.getFieldValue("MODE")||"One";a=a.getFieldValue("PIN")||"1";Blockly.Arduino.includes_.include_modular="#include <modular.h>";Blockly.Arduino.definitions_.definitions_modular="Modular mybot;";Blockly.Arduino.setups_["setups_mybot"+b+a]="mybot.proximity"+b+"Begin("+a+");";return["mybot.proximity"+b+"Read("+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_setServoOutput=function(a){var b=a.getFieldValue("PIN")||"A1";a=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;Blockly.Arduino.includes_.include_servo="#include <Servo.h>";Blockly.Arduino.definitions_["definitions_servo"+b]="Servo servo_"+b+";";Blockly.Arduino.setups_["setups_servo"+b]="servo_"+b+".attach("+b+", 544, 2400);";return"servo_"+b+".write("+a+");\n"};
Blockly.Arduino.arduino_pin_attachInterrupt=function(a){var b=a.getFieldValue("PIN")||"2",c=a.getFieldValue("MODE")||"RISING",d=Blockly.Arduino.statementToCode(a,"SUBSTACK");d=Blockly.Arduino.addLoopTrap(d,a.id);Blockly.Arduino.definitions_["definitions_ISR_"+c+b]="void ISR_"+c+"_"+b+"() {\n"+d+"}";return"attachInterrupt(digitalPinToInterrupt("+b+"), ISR_"+c+"_"+b+", "+c+");\n"};
Blockly.Arduino.arduino_pin_detachInterrupt=function(a){return"detachInterrupt(digitalPinToInterrupt("+(a.getFieldValue("PIN")||"2")+"));\n"};Blockly.Arduino.arduino_serial_serialBegin=function(a){return"Serial.begin("+(a.getFieldValue("VALUE")||"9600")+");\n"};Blockly.Arduino.arduino_serial_serialPrint=function(a){var b=Blockly.Arduino.valueToCode(a,"VALUE",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"";return"warp"===(a.getFieldValue("EOL")||"warp")?"Serial.println("+b+");\n":"Serial.print("+b+");\n"};
Blockly.Arduino.arduino_serial_serialAvailable=function(){return["Serial.available()",Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.arduino_serial_serialReadData=function(){return["Serial.read()",Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.arduino_serial_multiSerialBegin=function(a){var b=a.getFieldValue("NO")||"0";a=a.getFieldValue("VALUE")||"9600";"0"===b&&(b="");return"Serial"+b+".begin("+a+");\n"};
Blockly.Arduino.arduino_serial_multiSerialPrint=function(a){var b=a.getFieldValue("NO")||"0",c=Blockly.Arduino.valueToCode(a,"VALUE",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"";a=a.getFieldValue("EOL")||"warp";"0"===b&&(b="");return"warp"===a?"Serial"+b+".println("+c+");\n":"Serial"+b+".print("+c+");\n"};Blockly.Arduino.arduino_serial_multiSerialAvailable=function(a){a=a.getFieldValue("NO")||"0";"0"===a&&(a="");return["Serial"+a+".available()",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_serial_multiSerialReadAByte=function(a){a=a.getFieldValue("NO")||"0";"0"===a&&(a="");return["Serial"+a+".read()",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_data_dataMap=function(a){var b=Blockly.Arduino.valueToCode(a,"DATA",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0,c=Blockly.Arduino.valueToCode(a,"ARG0",Blockly.Arduino.ORDER_UNARY_POSTFIX)||1,d=Blockly.Arduino.valueToCode(a,"ARG1",Blockly.Arduino.ORDER_UNARY_POSTFIX)||100,e=Blockly.Arduino.valueToCode(a,"ARG2",Blockly.Arduino.ORDER_UNARY_POSTFIX)||1;a=Blockly.Arduino.valueToCode(a,"ARG3",Blockly.Arduino.ORDER_UNARY_POSTFIX)||1E3;return["map("+b+", "+c+", "+d+", "+e+", "+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_data_dataConstrain=function(a){var b=Blockly.Arduino.valueToCode(a,"DATA",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0,c=Blockly.Arduino.valueToCode(a,"ARG0",Blockly.Arduino.ORDER_UNARY_POSTFIX)||1;a=Blockly.Arduino.valueToCode(a,"ARG1",Blockly.Arduino.ORDER_UNARY_POSTFIX)||100;return["constrain("+b+", "+c+", "+a+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_data_dataConvert=function(a){var b=Blockly.Arduino.valueToCode(a,"DATA",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;switch(a.getFieldValue("TYPE")||"INTEGER"){case "INTEGER":var c="String("+b+").toInt()";break;case "DECIMAL":c="String("+b+").toFloat()";break;case "STRING":c="String("+b+")"}return[c,Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_data_dataConvertASCIICharacter=function(a){return["String(char("+(Blockly.Arduino.valueToCode(a,"DATA",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"0")+"))",Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.arduino_data_dataConvertASCIINumber=function(a){return["toascii(String("+(Blockly.Arduino.valueToCode(a,"DATA",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"0")+")[0])",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_CameraControl_cameraInit=function(a){Blockly.Arduino.includes_.include_camera="#include <esp_camera.h>\n#include <esp_err.h>";Blockly.Arduino.setups_.setup_serial="Serial.begin(115200);\n";Blockly.Arduino.setups_.setup_camera='camera_config_t config;\nconfig.ledc_channel = LEDC_CHANNEL_0;\nconfig.ledc_timer = LEDC_TIMER_0;\n// XIAO ESP32S3 Camera Pins\nconfig.pin_d0 = 13;  // Y2_GPIO_NUM\nconfig.pin_d1 = 15;  // Y3_GPIO_NUM\nconfig.pin_d2 = 17;  // Y4_GPIO_NUM\nconfig.pin_d3 = 18;  // Y5_GPIO_NUM\nconfig.pin_d4 = 12;  // Y6_GPIO_NUM\nconfig.pin_d5 = 14;  // Y7_GPIO_NUM\nconfig.pin_d6 = 16;  // Y8_GPIO_NUM\nconfig.pin_d7 = 11;  // Y9_GPIO_NUM\nconfig.pin_xclk = 10;\nconfig.pin_pclk = 47;\nconfig.pin_vsync = 21;\nconfig.pin_href = 38;\nconfig.pin_sscb_sda = 40;\nconfig.pin_sscb_scl = 39;\nconfig.pin_pwdn = -1;\nconfig.pin_reset = -1;\nconfig.xclk_freq_hz = 20000000;\nconfig.pixel_format = PIXFORMAT_JPEG;\n\n// PSRAM Configuration\nif(psramFound()){\n  config.frame_size = FRAMESIZE_UXGA;\n  config.jpeg_quality = 10;\n  config.fb_count = 2;\n  Serial.println("PSRAM detected - Using high resolution mode");\n} else {\n  config.frame_size = FRAMESIZE_SVGA;\n  config.jpeg_quality = 12;\n  config.fb_count = 1;\n  Serial.println("No PSRAM detected - Using lower resolution");\n}\n\n// Camera Initialization with Error Handling\nesp_err_t cam_err = esp_camera_init(&config);\nif (cam_err != ESP_OK) {\n  Serial.printf("Camera init failed: 0x%x (%s)\\n", cam_err, esp_err_to_name(cam_err));\n  while(1); // Halt on critical error\n}\nSerial.println("Camera initialized successfully");\n';
return""};Blockly.Arduino.arduino_CameraControl_cameraCaptureImage=function(a){return'camera_fb_t * fb = esp_camera_fb_get();\nif (!fb) {\n  Serial.println("Camera capture failed");\n  return;\n}\n// Use fb->buf to access image data\nesp_camera_fb_return(fb);\n'};
Blockly.Arduino.arduino_WiFiControl_wifiInit=function(a){var b=Blockly.Arduino.valueToCode(a,"SSID",Blockly.Arduino.ORDER_ATOMIC)||'""';a=Blockly.Arduino.valueToCode(a,"PASSWORD",Blockly.Arduino.ORDER_ATOMIC)||'""';Blockly.Arduino.includes_.include_Control="#include <WiFi.h>";Blockly.Arduino.setups_.setup_wifi="WiFi.begin("+b+", "+a+');\nwhile (WiFi.status() != WL_CONNECTED) {\n  delay(1000);\n  Serial.println("Connecting to WiFi...");\n}\nSerial.println("Connected to WiFi");\n';return""};
Blockly.Arduino.arduino_WiFiControl_wifiConnect=function(a){return'if (WiFi.status() != WL_CONNECTED) {\n  Serial.println("Reconnecting to WiFi...");\n  WiFi.reconnect();\n}\n'};Blockly.Arduino.arduino_WiFiControl_wifiDisconnect=function(a){return'WiFi.disconnect();\nSerial.println("Disconnected from WiFi");\n'};Blockly.Arduino.arduino_WiFiControl_wifistatus=function(a){return["WiFi.status()",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_camera_wifi_stream=function(a){var b=Blockly.Arduino.valueToCode(a,"SSID",Blockly.Arduino.ORDER_ATOMIC)||'""';a=Blockly.Arduino.valueToCode(a,"PASSWORD",Blockly.Arduino.ORDER_ATOMIC)||'""';Blockly.Arduino.includes_.include_wifi="#include <WiFi.h>";Blockly.Arduino.includes_.include_camera="#include <esp_camera.h>";Blockly.Arduino.includes_.include_http_server="#include <WebServer.h>";Blockly.Arduino.definitions_.camera_server='WebServer server(80);\nvoid handleStream() {\n  camera_fb_t * fb = esp_camera_fb_get();\n  if (!fb) {\n    server.send(500, "text/plain", "Camera capture failed");\n    return;\n  }\n  server.sendHeader("Content-Type", "image/jpeg");\n  server.sendHeader("Content-Length", String(fb->len));\n  server.send(200, "image/jpeg", (const char *)fb->buf, fb->len);\n  esp_camera_fb_return(fb);\n}\n';
Blockly.Arduino.setups_.setup_wifi="WiFi.begin("+b+", "+a+');\nwhile (WiFi.status() != WL_CONNECTED) {\n  delay(1000);\n  Serial.println("Connecting to WiFi...");\n}\nSerial.println("Connected to WiFi");\nSerial.print("IP Address: ");\nSerial.println(WiFi.localIP());\n';Blockly.Arduino.setups_.setup_server='server.on("/stream", handleStream);\nserver.begin();\n';Blockly.Arduino.loops_.loop_server="server.handleClient();\n";return""};
Blockly.Arduino.arduino_CameraControl_cameraServerStart=function(a){var b=Blockly.Arduino.valueToCode(a,"SSID",Blockly.Arduino.ORDER_ATOMIC)||'"YOUR_WIFI_SSID"';a=Blockly.Arduino.valueToCode(a,"PASSWORD",Blockly.Arduino.ORDER_ATOMIC)||'"YOUR_WIFI_PASSWORD"';Blockly.Arduino.includes_.include_wifi="#include <WiFi.h>";Blockly.Arduino.includes_.include_camera="#include <esp_camera.h>";Blockly.Arduino.includes_.include_web_server="#include <WebServer.h>";Blockly.Arduino.definitions_.camera_server='WebServer server(80);\nvoid handleJPGStream() {\n  WiFiClient client = server.client();\n  String response = "HTTP/1.1 200 OK\\r\\n";\n  response += "Content-Type: multipart/x-mixed-replace; boundary=frame\\r\\n\\r\\n";\n  server.sendContent(response);\n  while (1) {\n    camera_fb_t * fb = esp_camera_fb_get();\n    if (!fb) {\n      Serial.println("Camera capture failed");\n      return;\n    }\n    response = "--frame\\r\\n";\n    response += "Content-Type: image/jpeg\\r\\n\\r\\n";\n    server.sendContent(response);\n    server.sendContent((const char *)fb->buf, fb->len);\n    server.sendContent("\\r\\n");\n    esp_camera_fb_return(fb);\n    if (!client.connected()) break;\n  }\n}\nvoid startCameraServer() {\n  server.on("/", HTTP_GET, []() {\n    server.send(200, "text/html", "<img src=\'/stream\'>");\n  });\n  server.on("/stream", HTTP_GET, handleJPGStream);\n  server.begin();\n}\n';
Blockly.Arduino.setups_.setup_camera_wifi='Serial.begin(115200);\ncamera_config_t config;\nconfig.ledc_channel = LEDC_CHANNEL_0;\nconfig.ledc_timer = LEDC_TIMER_0;\nconfig.pin_d0 = 5;\nconfig.pin_d1 = 18;\nconfig.pin_d2 = 19;\nconfig.pin_d3 = 21;\nconfig.pin_d4 = 36;\nconfig.pin_d5 = 39;\nconfig.pin_d6 = 34;\nconfig.pin_d7 = 35;\nconfig.pin_xclk = 0;\nconfig.pin_pclk = 22;\nconfig.pin_vsync = 25;\nconfig.pin_href = 23;\nconfig.pin_sscb_sda = 26;\nconfig.pin_sscb_scl = 27;\nconfig.pin_pwdn = -1;\nconfig.pin_reset = -1;\nconfig.xclk_freq_hz = 20000000;\nconfig.pixel_format = PIXFORMAT_JPEG;\nif(psramFound()){\n  config.frame_size = FRAMESIZE_QVGA;\n  config.jpeg_quality = 10;\n  config.fb_count = 2;\n} else {\n  config.frame_size = FRAMESIZE_QQVGA;\n  config.jpeg_quality = 12;\n  config.fb_count = 1;\n}\nesp_err_t err = esp_camera_init(&config);\nif (err != ESP_OK) {\n  Serial.printf("Camera init failed with error 0x%x", err);\n  return;\n}\nWiFi.begin('+
b+", "+a+');\nwhile (WiFi.status() != WL_CONNECTED) {\n  delay(500);\n  Serial.print(".");\n}\nSerial.println("\nWiFi connected");\nSerial.print("Camera Stream Ready! Go to: http://");\nSerial.println(WiFi.localIP());\nstartCameraServer();\n';return""};Blockly.Arduino.colour={};Blockly.Arduino.colour_picker=function(a){return[a.getFieldValue("COLOUR"),Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.control={};Blockly.Arduino.control_wait=function(a){return"delay("+Blockly.Arduino.valueToCode(a,"DURATION",Blockly.Arduino.ORDER_UNARY_POSTFIX)+" * 1000);\n"};Blockly.Arduino.control_repeat=function(a){var b=Blockly.Arduino.valueToCode(a,"TIMES",Blockly.Arduino.ORDER_UNARY_POSTFIX),c=Blockly.Arduino.statementToCode(a,"SUBSTACK");c=Blockly.Arduino.addLoopTrap(c,a.id);return a="for (int index = 0; index < "+b+"; index++) {\n"+c+"}\n"};
Blockly.Arduino.control_forever=function(a){if(Blockly.Arduino.firstLoop&&!a.getSurroundParent()&&"event_whenarduinobegin"===a.getRootBlock().type){Blockly.Arduino.firstLoop=!1;var b=Blockly.Arduino.statementToCode(a,"SUBSTACK");b=Blockly.Arduino.addLoopTrap(b,a.id);a="}\n\nvoid loop() {\n"+b+(Blockly.Arduino.INDENT+"repeat();\n")}else b=Blockly.Arduino.statementToCode(a,"SUBSTACK"),b=Blockly.Arduino.addLoopTrap(b,a.id),a="while (1) {\n"+b+(Blockly.Arduino.INDENT+"repeat();\n}\n");return a};
Blockly.Arduino.control_if=function(a){var b=Blockly.Arduino.valueToCode(a,"CONDITION",Blockly.Arduino.ORDER_NONE)||"false",c=Blockly.Arduino.statementToCode(a,"SUBSTACK");c=Blockly.Arduino.addLoopTrap(c,a.id);return a="if ("+b+") {\n"+c+"}\n"};
Blockly.Arduino.control_if_else=function(a){var b=Blockly.Arduino.valueToCode(a,"CONDITION",Blockly.Arduino.ORDER_NONE)||"false",c=Blockly.Arduino.statementToCode(a,"SUBSTACK");c=Blockly.Arduino.addLoopTrap(c,a.id);var d=Blockly.Arduino.statementToCode(a,"SUBSTACK2");d=Blockly.Arduino.addLoopTrap(d,a.id);a="if ("+b+") {\n"+c+"}\nelse{\n";a+=d;return a+="}\n"};
Blockly.Arduino.control_wait_until=function(a){return"while (!"+(Blockly.Arduino.valueToCode(a,"CONDITION",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"false")+") {\n"+(Blockly.Arduino.INDENT+"repeat();\n}\n")};Blockly.Arduino.control_repeat_until=function(a){var b=Blockly.Arduino.valueToCode(a,"CONDITION",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"false",c=Blockly.Arduino.statementToCode(a,"SUBSTACK");c=Blockly.Arduino.addLoopTrap(c,a.id);return a="while (!"+b+") {\n"+c+(Blockly.Arduino.INDENT+"repeat();\n}\n")};Blockly.Arduino.data={};Blockly.Arduino.data_variable=function(a){return[Blockly.Arduino.variableDB_.getName(a.getFieldValue("VARIABLE"),Blockly.Variables.NAME_TYPE),Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.data_setvariableto=function(a){var b=Blockly.Arduino.valueToCode(a,"VALUE",Blockly.Arduino.ORDER_ASSIGNMENT)||"0";a=Blockly.Arduino.variableDB_.getName(a.getFieldValue("VARIABLE"),Blockly.Variables.NAME_TYPE);if("unnamed"===a)return"";parseFloat(b.slice(1,-1))==b.slice(1,-1)&&(b=parseFloat(b.slice(1,-1)).toString());return a+" = "+b+";\n"};
Blockly.Arduino.data_changevariableby=function(a){var b=Blockly.Arduino.valueToCode(a,"VALUE",Blockly.Arduino.ORDER_ASSIGNMENT)||"0";a=Blockly.Arduino.variableDB_.getName(a.getFieldValue("VARIABLE"),Blockly.Variables.NAME_TYPE);return"unnamed"===a?"":a+" += "+b+";\n"};Blockly.Arduino.data_showvariable=function(){return""};Blockly.Arduino.data_hidevariable=function(){return""};
Blockly.Arduino.data_listcontents=function(a){return[Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE),Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.data_addtolist=function(a){var b=Blockly.Arduino.valueToCode(a,"ITEM",Blockly.Arduino.ORDER_ADDITIVE)||"0";a=Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE);return"unnamed"===a?"":a+".add("+b+");\n"};
Blockly.Arduino.data_deleteoflist=function(a){var b=Blockly.Arduino.valueToCode(a,"INDEX",Blockly.Arduino.ORDER_ADDITIVE)||"0";a=Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE);return"unnamed"===a?"":a+".remove("+b+");\n"};Blockly.Arduino.data_deletealloflist=function(a){a=Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE);return"unnamed"===a?"":a+".clear();\n"};
Blockly.Arduino.data_insertatlist=function(a){var b=Blockly.Arduino.valueToCode(a,"ITEM",Blockly.Arduino.ORDER_ADDITIVE)||"0",c=Blockly.Arduino.valueToCode(a,"INDEX",Blockly.Arduino.ORDER_ADDITIVE)||"0";a=Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE);return"unnamed"===a?"":a+".add("+c+" - 1, "+b+");\n"};
Blockly.Arduino.data_replaceitemoflist=function(a){var b=Blockly.Arduino.valueToCode(a,"ITEM",Blockly.Arduino.ORDER_ADDITIVE)||"0",c=Blockly.Arduino.valueToCode(a,"INDEX",Blockly.Arduino.ORDER_ADDITIVE)||"0";a=Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE);return"unnamed"===a?"":a+".replace("+c+" - 1, "+b+");\n"};
Blockly.Arduino.data_itemoflist=function(a){var b=Blockly.Arduino.valueToCode(a,"INDEX",Blockly.Arduino.ORDER_ADDITIVE)||"0";return[Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE)+".get("+b+" - 1)",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.data_itemnumoflist=function(a){var b=Blockly.Arduino.valueToCode(a,"ITEM",Blockly.Arduino.ORDER_ADDITIVE)||"0";return[Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE)+".search("+b+") + 1",Blockly.Arduino.ORDER_UNARY_SIGN]};Blockly.Arduino.data_lengthoflist=function(a){return[Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE)+".size()",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.data_listcontainsitem=function(a){var b=Blockly.Arduino.valueToCode(a,"ITEM",Blockly.Arduino.ORDER_ADDITIVE)||"0";return[Blockly.Arduino.variableDB_.getName(a.getFieldValue("LIST"),Blockly.Variables.NAME_TYPE)+".has("+b+") != -1",Blockly.Arduino.ORDER_UNARY_SIGN]};Blockly.Arduino.data_showlist=function(){return""};Blockly.Arduino.data_hidelist=function(){return""};Blockly.Arduino.esp32={};Blockly.Arduino.arduino_pin_esp32SetPwmOutput=function(a){var b=a.getFieldValue("PIN")||"0",c=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;a=a.getFieldValue("CH")||"0";Blockly.Arduino.setups_["esp32SetPwmOutput"+b]="ledcSetup("+a+", 490, 8);";Blockly.Arduino.setups_["esp32SetPwmOutput2"+b]="ledcAttachPin("+b+", "+a+");";return"ledcWrite("+a+", "+c+");\n"};
Blockly.Arduino.arduino_pin_esp32SetDACOutput=function(a){var b=a.getFieldValue("PIN")||"0";a=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;return"dacWrite("+b+", "+a+");\n"};Blockly.Arduino.arduino_pin_esp32ReadTouchPin=function(a){return["touchRead("+(a.getFieldValue("PIN")||"0")+")",Blockly.Arduino.ORDER_ATOMIC]};
Blockly.Arduino.arduino_pin_esp32SetServoOutput=function(a){var b=a.getFieldValue("PIN")||"0",c=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;a=a.getFieldValue("CH")||"0";Blockly.Arduino.includes_.esp32SetServoOutput="#include <Servo.h>";Blockly.Arduino.definitions_["esp32SetServoOutput"+b]="Servo servo_"+b+";";Blockly.Arduino.setups_["esp32SetServoOutput"+b]="servo_"+b+".attach("+b+", "+a+");";return"servo_"+b+".write("+c+");\n"};
Blockly.Arduino.arduino_pin_esp32AttachInterrupt=function(a){var b=a.getFieldValue("PIN")||"0",c=a.getFieldValue("MODE")||"RISING",d=Blockly.Arduino.statementToCode(a,"SUBSTACK");d=Blockly.Arduino.addLoopTrap(d,a.id);Blockly.Arduino.definitions_["definitions_ISR_"+c+b]="void IRAM_ATTR ISR_"+c+"_"+b+"() {\n"+d+"}";return"attachInterrupt("+b+", ISR_"+c+"_"+b+", "+c+");\n"};Blockly.Arduino.arduino_pin_esp32DetachInterrupt=function(a){return"detachInterrupt("+(a.getFieldValue("PIN")||"0")+");\n"};Blockly.Arduino.esp8266={};Blockly.Arduino.arduino_pin_esp8266AttachInterrupt=function(a){var b=a.getFieldValue("PIN")||"2",c=a.getFieldValue("MODE")||"RISING",d=Blockly.Arduino.statementToCode(a,"SUBSTACK");d=Blockly.Arduino.addLoopTrap(d,a.id);Blockly.Arduino.definitions_["definitions_ISR_"+c+b]="void IRAM_ATTR ISR_"+c+"_"+b+"() {\n"+d+"}";return"attachInterrupt(digitalPinToInterrupt("+b+"), ISR_"+c+"_"+b+", "+c+");\n"};Blockly.Arduino.event={};Blockly.Arduino.event_whenarduinobegin=function(){Blockly.Arduino.includes_.arduino="#include <Arduino.h>";return""};Blockly.Arduino.k210={};Blockly.Arduino.arduino_pin_k210SetPwmOutput=function(a){var b=a.getFieldValue("PIN")||"0";a=Blockly.Arduino.valueToCode(a,"OUT",Blockly.Arduino.ORDER_UNARY_POSTFIX)||0;Blockly.Arduino.setups_.k210SetPwmOutput="analogWriteFrequency(490);";return"analogWrite("+b+", "+a+");\n"};
Blockly.Arduino.arduino_serial_k210MultiSerialBegin=function(a){var b=a.getFieldValue("NO")||"0",c=a.getFieldValue("BAUD")||"9600",d=a.getFieldValue("TX_PIN");a=a.getFieldValue("RX_PIN");"0"===b&&(b="");return"Serial"+b+".begin("+c+", "+a+", "+d+");\n"};Blockly.Arduino.math={};Blockly.Arduino.math_number=function(a){a=parseFloat(a.getFieldValue("NUM"));isNaN(a)&&(a=0);return[a,0>a?Blockly.Arduino.ORDER_UNARY_PREFIX:Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.math_integer=Blockly.Arduino.math_number;Blockly.Arduino.math_whole_number=Blockly.Arduino.math_number;Blockly.Arduino.math_positive_number=Blockly.Arduino.math_number;Blockly.Arduino.math_angle=Blockly.Arduino.math_number;Blockly.Arduino.math_int8_number=Blockly.Arduino.math_number;
Blockly.Arduino.math_uint8_number=Blockly.Arduino.math_number;Blockly.Arduino.math_int9_number=Blockly.Arduino.math_number;Blockly.Arduino.math_uint10_number=Blockly.Arduino.math_number;Blockly.Arduino.math_int11_number=Blockly.Arduino.math_number;Blockly.Arduino.math_0to100_number=Blockly.Arduino.math_number;Blockly.Arduino.math_half_angle=Blockly.Arduino.math_number;Blockly.Arduino.matrix={};Blockly.Arduino.matrix=function(a){a=a.getFieldValue("MATRIX");isNaN(a)&&(a=0);return[a,Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.operator={};Blockly.Arduino.operator_arithmetic=function(a){var b={operator_add:[" + ",Blockly.Arduino.ORDER_ADDITIVE],operator_subtract:[" - ",Blockly.Arduino.ORDER_ADDITIVE],operator_multiply:[" * ",Blockly.Arduino.ORDER_MULTIPLICATIVE],operator_divide:[" / ",Blockly.Arduino.ORDER_MULTIPLICATIVE]}[a.type],c=b[0];b=b[1];var d=Blockly.Arduino.valueToCode(a,"NUM1",b)||"0";a=Blockly.Arduino.valueToCode(a,"NUM2",b)||"0";return[d+c+a,b]};Blockly.Arduino.operator_add=Blockly.Arduino.operator_arithmetic;
Blockly.Arduino.operator_subtract=Blockly.Arduino.operator_arithmetic;Blockly.Arduino.operator_multiply=Blockly.Arduino.operator_arithmetic;Blockly.Arduino.operator_divide=Blockly.Arduino.operator_arithmetic;Blockly.Arduino.operator_random=function(a){var b=Blockly.Arduino.valueToCode(a,"FROM",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"0";a=Blockly.Arduino.valueToCode(a,"TO",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"0";return["random("+b+", "+a+")",Blockly.Arduino.ORDER_UNARY_POSTFIX]};
Blockly.Arduino.operator_compare=function(a){var b="operator_equals"==a.type?Blockly.Arduino.ORDER_EQUALITY:Blockly.Arduino.ORDER_RELATIONAL,c=Blockly.Arduino.valueToCode(a,"OPERAND1",b),d=Blockly.Arduino.valueToCode(a,"OPERAND2",b);parseFloat(c.slice(1,-1))==c.slice(1,-1)?c=parseFloat(c.slice(1,-1)).toString():'""'===c?c="0":'"'===c.charAt(0)&&'"'===c.charAt(c.length-1)&&(c=3===c.length?c.replace(/"/g,"'"):"String("+c+")");parseFloat(d.slice(1,-1))==d.slice(1,-1)?d=parseFloat(d.slice(1,-1)).toString():
'""'===d?d="0":'"'===d.charAt(0)&&'"'===d.charAt(d.length-1)&&(d=3===d.length?d.replace(/"/g,"'"):"String("+d+")");return[c+{operator_gt:" > ",operator_equals:" == ",operator_lt:" < "}[a.type]+d,b]};Blockly.Arduino.operator_gt=Blockly.Arduino.operator_compare;Blockly.Arduino.operator_equals=Blockly.Arduino.operator_compare;Blockly.Arduino.operator_lt=Blockly.Arduino.operator_compare;
Blockly.Arduino.operator_operation=function(a){var b="operator_and"==a.type?Blockly.Arduino.ORDER_LOGICAL_AND:Blockly.Arduino.ORDER_LOGICAL_OR,c=Blockly.Arduino.valueToCode(a,"OPERAND1",b)||"0",d=Blockly.Arduino.valueToCode(a,"OPERAND2",b)||"0";return[c+{operator_and:" && ",operator_or:" || "}[a.type]+d,b]};Blockly.Arduino.operator_and=Blockly.Arduino.operator_operation;Blockly.Arduino.operator_or=Blockly.Arduino.operator_operation;
Blockly.Arduino.operator_not=function(a){var b=Blockly.Arduino.ORDER_UNARY_PREFIX;return["!"+(Blockly.Arduino.valueToCode(a,"OPERAND",b)||"false"),b]};Blockly.Arduino.operator_join=function(a){var b=Blockly.Arduino.ORDER_UNARY_PREFIX,c=Blockly.Arduino.valueToCode(a,"STRING1",b)||"''";a=Blockly.Arduino.valueToCode(a,"STRING2",b)||"''";return["String("+c+") + String("+a+")",Blockly.Arduino.ORDER_ADDITIVE]};
Blockly.Arduino.operator_letter_of=function(a){var b=Blockly.Arduino.ORDER_UNARY_PREFIX,c=Blockly.Arduino.valueToCode(a,"STRING",b)||"''";a=Blockly.Arduino.valueToCode(a,"LETTER",b)||"0";a=parseFloat(a)==a?a-1:a+" - 1";return["String("+c+").charAt("+a+")",Blockly.Arduino.ORDER_NONE]};Blockly.Arduino.operator_length=function(a){return["String("+(Blockly.Arduino.valueToCode(a,"STRING",Blockly.Arduino.ORDER_UNARY_PREFIX)||"''")+").length()",Blockly.Arduino.ORDER_NONE]};
Blockly.Arduino.operator_contains=function(a){var b=Blockly.Arduino.ORDER_UNARY_PREFIX,c=Blockly.Arduino.valueToCode(a,"STRING1",b)||"''";a=Blockly.Arduino.valueToCode(a,"STRING2",b)||"0";return["String("+c+").indexOf(String("+a+"))",Blockly.Arduino.ORDER_NONE]};Blockly.Arduino.operator_mod=function(a){var b=Blockly.Arduino.ORDER_MULTIPLICATIVE,c=Blockly.Arduino.valueToCode(a,"NUM1",b)||"0";a=Blockly.Arduino.valueToCode(a,"NUM2",b)||"0";return[c+" % "+a,b]};
Blockly.Arduino.operator_round=function(a){return["round("+(Blockly.Arduino.valueToCode(a,"NUM",Blockly.Arduino.ORDER_UNARY_POSTFIX)||"0")+")",Blockly.Arduino.ORDER_NONE]};
Blockly.Arduino.operator_mathop=function(a){var b=Blockly.Arduino.ORDER_UNARY_POSTFIX,c=a.getFieldValue("OPERATOR");a=Blockly.Arduino.valueToCode(a,"NUM",b)||"0";var d="";b=Blockly.Arduino.ORDER_NONE;switch(c){case "abs":d="abs("+a+")";break;case "floor":d="floor("+a+")";break;case "ceiling":d="ceil("+a+")";break;case "sqrt":d="sqrt("+a+")";break;case "sin":d="sin("+a+" / 180.0 * PI)";break;case "cos":d="cos("+a+" / 180.0 * PI)";break;case "tan":d="tan("+a+" / 180.0 * PI)";break;case "asin":d="asin("+
a+") / PI * 180";b=Blockly.Arduino.ORDER_MULTIPLICATIVE;break;case "acos":d="acos("+a+") / PI * 180";b=Blockly.Arduino.ORDER_MULTIPLICATIVE;break;case "atan":d="atan("+a+") / PI * 180";b=Blockly.Arduino.ORDER_MULTIPLICATIVE;break;case "ln":d="log("+a+")";break;case "log":d="log10("+a+")";break;case "e ^":d="exp("+a+")";break;case "10 ^":d="pow(10, "+a+")"}return[d,b]};Blockly.Arduino.procedures={};Blockly.Arduino.procedures_definition=function(a){var b=Blockly.Arduino.statementToCode(a,"custom_block");b=b.slice(2);a=Blockly.Arduino.scrub_(a,b+" {\n");Blockly.Arduino.customFunctions_[b]=a+"}\n";return null};
Blockly.Arduino.procedures_call=function(a){var b=a.getProcCode();b=b.replace(/ /g,"_");b=b.replace(/%n/g,"N");b=b.replace(/%s/g,"S");b=b.replace(/%b/g,"B");b=Blockly.Arduino.variableDB_.getName(b,Blockly.Procedures.NAME_TYPE);for(var c=[],d=0;d<a.inputList.length;d++)if(a.inputList[d].type==Blockly.INPUT_VALUE)if(a.inputList[d].connection.targetBlock()){var e=a.inputList[d].connection.targetBlock();e=Blockly.Arduino.blockToCode(e);c.push(e[0])}else c.push("false");return b+"("+c.join(", ")+");\n"};
Blockly.Arduino.procedures_prototype=function(a){var b=a.getProcCode();a=a.displayNames_;var c=[];b=b.replace(/ /g,"_");for(var d=0;d<a.length;d++){var e=b.charAt(b.search(/%[nsb]/g)+1),g=Blockly.Arduino.variableDB_.getName(a[d],Blockly.Procedures.NAME_TYPE);Blockly.Arduino.customFunctionsArgName_[a[d]]=g;"n"===e?(b=b.replace("%n","N"),c.push("float "+g)):"s"===e?(b=b.replace("%s","S"),c.push("String "+g)):(b=b.replace("%b","B"),c.push("boolean "+g))}b=Blockly.Arduino.variableDB_.getName(b,Blockly.Procedures.NAME_TYPE);
return"void "+b+"("+c.join(", ")+")"};Blockly.Arduino.argument_reporter_boolean=function(a){a=a.getFieldValue("VALUE");return[Blockly.Arduino.customFunctionsArgName_[a],Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.argument_reporter_number=function(a){a=a.getFieldValue("VALUE");return[Blockly.Arduino.customFunctionsArgName_[a],Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.argument_reporter_string=function(a){a=a.getFieldValue("VALUE");return[Blockly.Arduino.customFunctionsArgName_[a],Blockly.Arduino.ORDER_ATOMIC]};Blockly.Arduino.raspberryPiPico={};Blockly.Arduino.arduino_serial_raspberryPiPicoMultiSerialBegin=function(a){var b=a.getFieldValue("NO")||"0";a=a.getFieldValue("VALUE")||"9600";var c="";"0"===b?b="":"2"===b&&(c+="Serial2.setTX(4);\nSerial2.setRX(5);\n");return c+("Serial"+b+".begin("+a+");\n")};Blockly.Arduino.texts={};Blockly.Arduino.text=function(a){return[Blockly.Arduino.quote_(a.getFieldValue("TEXT")),Blockly.Arduino.ORDER_ATOMIC]};
